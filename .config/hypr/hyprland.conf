#-------------------------------------------------------------------------------------------------------------
# MONITORS
#-------------------------------------------------------------------------------------------------------------
monitor=,1366x768@60,auto,auto

#-------------------------------------------------------------------------------------------------------------
# ENV
#-------------------------------------------------------------------------------------------------------------
env = XDG_SESSION_TYPE,wayland
env = WLR_NO_HARDWARE_CURSORS,1
env = QT_QPA_PLATFORM,wayland
env = WLR_RENDERER_ALLOW_SOFTWARE=1
env = GDK_BACKEND,wayland
env = WARP_ENABLE_WAYLAND,1
env = ELECTRON_OZONE_PLATFORM_HINT,wayland
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_QPA_PLATFORMTHEME,qt6ct  # Applies theme config from qt6ct
env = XCURSOR_THEME,Simp1e-Tokyo-Night-Light  # Set cursor theme
env = XCURSOR_SIZE,24  # Set cursor size
env = SSH_AUTH_SOCK,$XDG_RUNTIME_DIR/gcr/ssh  # Keyring
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1

#-------------------------------------------------------------------------------------------------------------
# EXEC
#-------------------------------------------------------------------------------------------------------------
exec				= killall waybar; waybar
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = /usr/lib/polkit-kde-authentication-agent-1
exec = swaybg -m fill -i ~/Pictures/Wallpapers/red.jpeg
exec-once = swaync
# exec-once = nm-applet --indicator
# exec-once = wl-paste --watch cliphist store

#------------------------------------------------------------------------------------------------------------
# XWAYLAND
#-------------------------------------------------------------------------------------------------------------
xwayland {
    force_zero_scaling = 1
  }

#------------------------------------------------------------------------------------------------------------
# INPUT
#-------------------------------------------------------------------------------------------------------------
input {
  kb_layout = us
  repeat_rate = 55 # Set characters to repeat on hold every 55ms
  repeat_delay = 375 # Set repeat timeout to 375ms
  follow_mouse = 2 # Follow mouse clicks for window focus
  sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
	# force_no_accel = 1
  float_switch_override_focus = 0 # Stop floating windows from stealing focus
  touchpad {
    natural_scroll = true
	}
}

device {
	name = tpps/2-elan-trackpoint
	accel_profile = flat # Disable mouse accel on laptop trackpoint
}

gestures {
  workspace_swipe = true
}

#-------------------------------------------------------------------------------------------------------------
# GENERAL
#-------------------------------------------------------------------------------------------------------------
general {
    gaps_in = 2
    gaps_out = 3

    border_size = 1

    # https://wiki.hyprland.org/Configuring/Variables/#variable-types for info about colors
    #col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.active_border = 0xffd3c6aa
    col.inactive_border = 0xff414868 # Inactive gray

    no_border_on_floating = false # Reenables border on floating windows\

    layout = hy3
}

#-------------------------------------------------------------------------------------------------------------
# MISC
#-------------------------------------------------------------------------------------------------------------
plugin {
    hy3 {
        tabs {
            height = 2
	          padding = 6
	          render_text = false
        }

        autotile {
            enable = true
            trigger_width = 800
            trigger_height = 500
        }
    }
}

dwindle {
    pseudotile = true # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = true # You probably want this
}

master {
    new_is_master = true
}

misc {
  new_window_takes_over_fullscreen = 2 # Leave fullscreen on new window
  disable_hyprland_logo = true # Disable logo on desktop
  disable_splash_rendering = true # Disable startup splashscreen
  animate_mouse_windowdragging = false # Disable windowdragging animations
  mouse_move_enables_dpms = true # Enables mouse move wakeup
  mouse_move_focuses_monitor = false # Disables hover for monitor focus
  focus_on_activate = true # Focusses windows which ask for activation (eg systray)
  enable_swallow = true # Enable window swalling
  swallow_regex = ^(foot)$ # Make foot swallow executed windows
  vfr = 1 # Variable framerate
  vrr = 1 # Variable refreshrate (freesync / gsync)
  # no_direct_scanout = false
  # render_ahead_of_time = true
  # render_ahead_safezone = 9
}

#-------------------------------------------------------------------------------------------------------------
# DECORATION
#-------------------------------------------------------------------------------------------------------------
decoration {
    rounding = 6
    drop_shadow = true # Enable shadows on windows
    col.shadow = 0xee1a1a1a # Set shadow colour
    shadow_range = 5 # Set power range for shadow
    shadow_render_power = 5 # Set power / strength for shadow
    layerrule = blur, waybar # Enable blur on waybar
    layerrule = blur, rofi
    layerrule = blur, wleave
    layerrule = ignorezero, waybar
    layerrule = ignorezero, rofi
    layerrule = xray 1, wleave
    layerrule = xray 1, wofi
    blur {
        enabled = true
        size = 2
        passes = 3
        popups = true
        noise = 0.075
        brightness = 0.8
        contrast = 0.8
    }
}

#-------------------------------------------------------------------------------------------------------------
# ANIMATIONS
#-------------------------------------------------------------------------------------------------------------
animations {
    enabled = 1 # Enable animations

    bezier = overshot, 0.05, 0.9, 0.1, 1.05
    bezier = smoothOut, 0.36, 0, 0.66, -0.56
    bezier = smoothIn, 0.25, 1, 0.5, 1

    animation = windows, 1, 5, overshot, slide
    animation = windowsMove, 1, 4, default
    animation = border, 1, 10, default
    animation = fade, 1, 4, smoothIn
    animation = fadeDim, 1, 4, smoothOut
    animation = workspaces, 1, 6, default, slide
}

#-------------------------------------------------------------------------------------------------------------
# WINDOW RULES
#-------------------------------------------------------------------------------------------------------------
source=~/.config/hypr/rules.conf

#-------------------------------------------------------------------------------------------------------------
# KEYBINDS
#-------------------------------------------------------------------------------------------------------------
source=~/.config/hypr/binds.conf
